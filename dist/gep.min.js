/**
 * gep --- By longhao <longhaohe@gmail.com> (http://longhaohe.com/)
 * Github: https://github.com/lon3/gep
 * MIT Licensed.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("gep",t):e.gep=t()}(this,function(){"use strict";function e(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap=Object.create(null)}function t(e,t){var i=y.length;return y[i]=t?e.replace(h,"\\n"):e,'"'+i+'"'}function i(e,t){return y[t]}function n(e){return p.test(e)&&!w.test(e)}function r(e){return new RegExp("^(?:"+e.replace(l,"").replace(/\$/g,"\\$").replace(/,/g,"\\b|")+"\\b)")}var s=e.prototype;s.put=function(e,t){var i;this.size===this.limit&&(i=this.shift());var n=this.get(e,!0);return n||(n={key:e},this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size++),n.value=t,i},s.shift=function(){var e=this.head;return e&&(this.head=this.head.newer,this.head.older=void 0,e.newer=e.older=void 0,this._keymap[e.key]=void 0,this.size--),e},s.get=function(e,t){var i=this._keymap[e];if(void 0!==i)return i===this.tail?t?i:i.value:(i.newer&&(i===this.head&&(this.head=i.newer),i.newer.older=i.older),i.older&&(i.older.newer=i.newer),i.newer=void 0,i.older=this.tail,this.tail&&(this.tail.newer=i),this.tail=i,t?i:i.value)};var a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c="Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat",u=new RegExp("^("+"break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,protected,static,interface,private,public".replace(/,/g,"\\b|")+"\\b)"),l=/\s/g,h=/\n/g,d=/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void /g,f=/"(\d+)"/g,p=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,v=/[^\w$\.](?:[A-Za-z_$][\w$]*)/g,w=/^(?:true|false)$/,y=[],_=function(){function s(){var t=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=i.cache,o=void 0===n?1e3:n,u=i.scope,h=void 0===u?"$":u,d=i.scopes,f=i.params;a(this,s),f||(d?(f=Object.keys(d),f.unshift(h)):f=[h]),this._cache=new e(o),this._funcParams=f.join(",").replace(l,""),this._funcBefore="function("+this._funcParams+"){return ",this.scope=h,d&&!function(){var e=void 0;Object.keys(d).forEach(function(t){e=d[t],Array.isArray(e)&&(e=e.join(",")),d[t]=r(e)}),t._scopeREs=d}();var p=void 0;f.length>1&&(f=f.slice(1),p=f.join(","),this._paramsPrefixRE=r(p));var v=p?p+","+c:c;this._allowedKeywordsRE=r(v)}return o(s,[{key:"_addScope",value:function(e){if(this._paramsPrefixRE&&this._paramsPrefixRE.test(e))return e;if(this._scopeREs)for(var t=Object.keys(this._scopeREs),i=void 0,n=0,r=t.length;r>n;n++)if(i=this._scopeREs[t[n]],i.test(e))return t[n]+"."+e;return this.scope+"."+e}},{key:"compile",value:function(e){var n=this;u.test(e)&&"production"!==process.env.NODE_ENV&&console&&console.warn&&console.warn("Avoid using reserved keywords in expression: "+e),y.length=0;var r=e.replace(d,t).replace(l,"");return r=(" "+r).replace(v,function(e){var t=e.charAt(0),r=e.slice(1);return n._allowedKeywordsRE.test(r)?e:(r=r.indexOf('"')>-1?r.replace(f,i):r,t+n._addScope(r))}).replace(f,i),r.slice(1)}},{key:"make",value:function(e,t){if(t)return this._funcBefore+e+"}";try{return new Function(this._funcParams,"return "+e)}catch(i){"production"!==process.env.NODE_ENV&&console&&console.warn&&console.warn("Invalid expression. Generated function body: "+e)}}},{key:"parse",value:function(e){if(!e||!(e=e.trim()))return"";var t=this._cache.get(e);if(t)return t;var i=n(e)&&e.indexOf("[")<0?this._addScope(e):this.compile(e);return this._cache.put(e,i),i}}]),s}();return _});
//# sourceMappingURL=gep.min.js.map